<!-- File: C:\Users\Kunfirm\Downloads\MDC_Root\metaldrug.com\moleculogic\mdc-tier2\admin\index.html -->
<!-- Summary: MDC Tier 2 Admin Dashboard - Blueprint Review Panel (mirrors FDC) -->
<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MDC Tier 2 Admin Review</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-950 text-gray-100">
  <main class="p-6 max-w-5xl mx-auto">
    <h1 class="text-3xl font-bold text-indigo-400 mb-4">🧪 MDC Tier 2 Admin Dashboard</h1>
    <p class="text-gray-400 mb-6">Use this interface to review submitted MDC Tier 2 blueprints and take action as an admin.</p>

    <section class="mb-8">
      <label for="blueprintId" class="block text-sm text-gray-400 mb-1">Blueprint ID</label>
      <input id="blueprintId" type="text" placeholder="e.g., MDC-ZN-001"
             class="w-full p-2 bg-gray-800 border border-gray-600 rounded mb-4" />

      <label for="reviewer" class="block text-sm text-gray-400 mb-1">Reviewer</label>
      <input id="reviewer" type="text" placeholder="Your Name"
             class="w-full p-2 bg-gray-800 border border-gray-600 rounded mb-4" />

      <label for="comments" class="block text-sm text-gray-400 mb-1">Comments</label>
      <textarea id="comments" rows="3" placeholder="Optional comments"
                class="w-full p-2 bg-gray-800 border border-gray-600 rounded mb-4"></textarea>

      <div class="flex space-x-4">
        <button onclick="submitReview('approved')" class="bg-green-600 px-4 py-2 rounded text-white">✅ Approve</button>
        <button onclick="submitReview('rejected')" class="bg-red-600 px-4 py-2 rounded text-white">❌ Reject</button>
        <button onclick="submitReview('promoted')" class="bg-yellow-500 px-4 py-2 rounded text-black">🚀 Promote to Tier 3</button>
      </div>
      <div id="responseMsg" class="mt-4 text-sm"></div>
    </section>
  </main>

  <script>
    function submitReview(status) {
      const blueprint_id = document.getElementById('blueprintId').value.trim();
      const reviewer = document.getElementById('reviewer').value.trim();
      const comments = document.getElementById('comments').value.trim();
      const msg = document.getElementById('responseMsg');

      if (!blueprint_id || !reviewer) {
        msg.innerText = "Blueprint ID and Reviewer are required.";
        return;
      }

      fetch("mdc_submit_review.php", {
        method: "POST",
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ blueprint_id, status, reviewer, comments })
      })
      .then(res => res.json())
      .then(data => msg.innerText = data.message)
      .catch(() => msg.innerText = "Error submitting review.");
    }
  </script>
</body>
</html>
